#module Option {
  # TODO: Remove the Option_ prefix once modules are properly supported

  def Option_map[T, U](opt: Option[T], f: (T) => U): Option[U] =
    if isNone(opt)
    then None[U]
    else Some(f(getSome(opt)))
#}