def eventCount(e) := {
    def ec := default(last(ec, e) + 1, 0)
    ec
}

in x: Events<int>
in y: Events<int>
in e: Events<unit>
in c: Events<bool>

def z := x + y
out z

def ec := eventCount(e)
out ec

def ecOrZ := if c then z else ec
out ecOrZ
