{
  "Assignments": [{
    "DeRef": {
      "Ref": {
        "StructUnionAccess": {
          "Base": {
            "ArrayAccess": {
              "ArrayAccess": {
                "Variable": {
                  "VarName": "thing"
                }
              }
            }
          },
          "Field": "foo"
        }
      }
    },
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: thingWrite = %ld\\n\", timestamp, (int64_t) value);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }, {
    "DeRef": {
      "Variable": {
        "Function": "bar",
        "VarName": "foo"
      }
    },
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: localWrite = %ld\\n\", timestamp, (int64_t) value);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }, {
    "ArrayAccess": {
      "Variable": {
        "VarName": "arr"
      }
    },
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: globalWrite = %ld\\n\", timestamp, (int64_t) value);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }],
  "FunctionCalled": [{
    "FunctionName": "main",
    "code": "trace_setup();"
  }, {
    "FunctionName": "add",
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: called\\n\", timestamp);\nfprintf(trace_outfile, \"%lu: calledX = %ld\\n\", timestamp, (int64_t) arg0);\nfprintf(trace_outfile, \"%lu: calledY = %ld\\n\", timestamp, (int64_t) arg1);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }],
  "FunctionCalls": [{
    "FunctionName": "sub",
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: call\\n\", timestamp);\nfprintf(trace_outfile, \"%lu: callY = %ld\\n\", timestamp, (int64_t) arg1);\nfprintf(trace_outfile, \"%lu: callX = %ld\\n\", timestamp, (int64_t) arg0);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }],
  "FunctionReturned": [{
    "FunctionName": "add",
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: returned = %ld\\n\", timestamp, (int64_t) value);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }],
  "FunctionReturns": [{
    "FunctionName": "sub",
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: ret = %ld\\n\", timestamp, (int64_t) value);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }],
  "VarReads": [{
    "DeRef": {
      "Ref": {
        "StructUnionAccess": {
          "Base": {
            "ArrayAccess": {
              "ArrayAccess": {
                "Variable": {
                  "VarName": "thing"
                }
              }
            }
          },
          "Field": "foo"
        }
      }
    },
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: thingRead = %ld\\n\", timestamp, (int64_t) value);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }, {
    "DeRef": {
      "Variable": {
        "Function": "bar",
        "VarName": "foo"
      }
    },
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: localRead = %ld\\n\", timestamp, (int64_t) value);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }, {
    "ArrayAccess": {
      "Variable": {
        "VarName": "arr"
      }
    },
    "code": "pthread_mutex_lock(&lock);\nuint64_t timestamp = trace_get_normalized_timestamp();\nfprintf(trace_outfile, \"%lu: globalRead = %ld\\n\", timestamp, (int64_t) value);pthread_t thread = pthread_self();\n\nfprintf(trace_outfile, \"%lu: thread = %ld\\n\", timestamp, (int64_t) thread);\nfprintf(trace_outfile, \"%lu: threadToo = %ld\\n\", timestamp, (int64_t) thread);\nfflush(trace_outfile);\npthread_mutex_unlock(&lock);"
  }],
  "userCbPrefix": "#include \"instrumentation-pthread.h\"\n"
}