in x: Events[Int]

def seen := default(Set_add(last(seen, x), x), Set_empty)
def size := Set_size(seen)
def new_or_old :=
    if Set_contains(last(seen), x)
    then "old"
    else "new"

out x
out *

-- stdlib
def last(s) := last(s, s)