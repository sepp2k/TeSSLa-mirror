in x: Events[Int]

def seen: Events[Set[Int]] := default(set_add(last(seen, x), x), set_empty[Int])

def new_or_old :=
    if set_contains(last(seen, seen), x)
    then "old"
    else "new"

out *